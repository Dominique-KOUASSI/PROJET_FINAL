<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8" >
    <title>Station</title>
    <script src="highcharts.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/all.min.css">
    <link rel="icon" type="image/png" href="favicon.png">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="bootstrap.min.css">
    <script src="jquery-3.7.1.min.js"></script>
    <script src="bootstrap.min.js"></script>
</head>

<body>
    <header>
        <p>CCNB Weather</p>    
    </header>
    <main>
            <div class="container text-center">

                <div class="row m-4 ">

                    <div class="col">
                        <div class="card shadow ">
                            <div class="card-body p-4 ">
                                <div class="row">
                                    <p class="titre_avg" style="color: black;">Average Temperature</p>
                                    <p class="valeur" style="color: #B197FC;">%AVGTEMP% °C</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col">
                        <div class="card shadow ">
                            <div class="card-body p-4 ">
                                <div class="row">
                                    <p class="titre_avg" style="color: black;">Average Humidity</p>
                                    <p class="valeur" style="color: #B197FC;">%AVGHUM% &#37</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col">
                        <div class="card shadow ">
                            <div class="card-body p-4 ">
                                <div class="row">
                                    <p class="titre_avg" style="color: black;">Etat LED</p>
                                    <p class="valeur" style="color: #B197FC;">%ETAT_LED%</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="card shadow ">
                    <div class="card-body p-4 ">
                        <div class="row">
                            <div id="chart-temperature" class="container"></div>
                        </div>
                    </div>
                </div>

            </div>

    </main>

</body>

<script>
    Highcharts.chart('chart-temperature', {
        credits: {
            enabled: false
        },
        chart: {
            zoomType: 'xy'
        },
        title: {
            text: 'Data collected trend',
            align: 'left'
        },
        subtitle: {
            text: 'Trend: ',
            align: 'left'
        },
        xAxis: [{
            categories: [%DATETIME%],
            crosshair: true
        }],
        yAxis: [{ // Primary yAxis
            labels: {
                format: '{value}°C',
                style: {
                    color: Highcharts.getOptions().colors[1]
                }
            },
            title: {
                text: 'Temperature',
                style: {
                    color: Highcharts.getOptions().colors[1]
                }
            }
        }, { // Secondary yAxis
            title: {
                text: 'Humidity',
                style: {
                    color: Highcharts.getOptions().colors[0]
                }
            },
            labels: {
                format: '{value} &#37',
                style: {
                    color: Highcharts.getOptions().colors[0]
                }
            },
            opposite: true
        }],
        tooltip: {
            shared: true
        },
        legend: {
            align: 'top',
            x: 80,
            verticalAlign: 'top',
            y: 60,
            floating: true,
            backgroundColor:
                Highcharts.defaultOptions.legend.backgroundColor || // theme
                'rgba(255,255,255,0.25)'
        },
        series: [{
            name: 'Humidity',
            type: 'column',
            yAxis: 1,
            data: [%HUMIDITY%],
            tooltip: {
                valueSuffix: ' &#37'
            }
    
        }, {
            name: 'Temperature',
            type: 'spline',
            data: [%TEMPERATURE%],
            tooltip: {
                valueSuffix: '°C'
            }
        }]
    });
    </script>
    
</html>